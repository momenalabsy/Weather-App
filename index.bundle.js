(()=>{const e=document.querySelector("#search"),r=document.querySelector("#enter"),t=document.querySelector("#celsius"),n=document.querySelector("#fahrenheit"),c=document.querySelector("#icon"),o=document.querySelector("#city"),a=document.querySelector("#name"),i=document.querySelector("#region"),u=document.querySelector("body");r.addEventListener("click",(async()=>{try{(r=await async function(e){try{const r=await fetch(`http://api.weatherapi.com/v1/current.json?key=618c4948f5464fee86c165832242103&q=${e}`);if(!r.ok)throw new Error("Invalid response from server");return await r.json()}catch(e){throw new Error("Failed to fetch weather data. Please try again.")}}(e.value))&&(console.log(r),n.innerHTML=`${r.current.temp_f}&deg;F`,t.innerHTML=`${r.current.temp_c}&deg;C`,o.innerHTML=r.location.country,i.innerHTML=r.location.region,a.innerHTML=r.location.name,c.src=`http:${r.current.condition.icon}`,console.log(r.current.is_day),r.current.is_day?u.style.backgroundImage="linear-gradient(rgb(255, 245, 230), rgb(253, 188, 46))":u.style.backgroundImage="linear-gradient(rgb(30, 35, 36), rgb(0, 70, 110))")}catch(e){console.error(e.message),alert(e.message)}var r}))})();